---
interface Props {
  title: string;
  date: string;
  author?: string;
  coverImage?: string;
}

const { title, date, author, coverImage } = Astro.props;

const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<header class="article-header">
  {coverImage && (
    <div class="article-header__image-wrapper">
      <img 
        src={coverImage} 
        alt={title}
        class="article-header__image"
        loading="eager"
      />
    </div>
  )}
  
  <div class="article-header__content">
    <div class="article-header__meta">
      <time class="article-header__date" datetime={date}>
        {formattedDate}
      </time>
      {author && (
        <>
          <span class="article-header__separator" aria-hidden="true">Â·</span>
          <span class="article-header__author">By {author}</span>
        </>
      )}
    </div>
  </div>
</header>

<style>
  .article-header {
    margin-bottom: var(--space-12);
  }
  
  .article-header__image-wrapper {
    width: 100%;
    margin-bottom: var(--space-8);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-medium);
  }
  
  .article-header__image {
    width: 100%;
    height: auto;
    display: block;
    max-height: 500px;
    object-fit: cover;
  }
  
  .article-header__content {
    text-align: center;
  }
  
  .article-header__title {
    font-size: var(--text-4xl);
    font-weight: 700;
    line-height: var(--leading-tight);
    color: var(--color-secondary);
    margin-bottom: var(--space-6);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .article-header__meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }
  
  .article-header__date {
    color: var(--color-text-muted);
  }
  
  .article-header__separator {
    color: var(--color-primary);
    opacity: 0.5;
  }
  
  .article-header__author {
    color: var(--color-text-muted);
    font-style: italic;
    text-transform: none;
  }
  
  @media (max-width: 768px) {
    .article-header__title {
      font-size: var(--text-3xl);
    }
    
    .article-header__image-wrapper {
      margin-bottom: var(--space-6);
    }
    
    .article-header__meta {
      flex-direction: column;
      gap: var(--space-1);
    }
    
    .article-header__separator {
      display: none;
    }
  }
  
  @media (max-width: 640px) {
    .article-header__title {
      font-size: var(--text-2xl);
    }
    
    .article-header {
      margin-bottom: var(--space-8);
    }
  }
</style>

